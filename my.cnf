# mysql設定サンプル
# railsでInnoDBのみ使用するのを想定
# ディレクトリをデフォルトから変更した場合はapparmorの設定も一緒に修正しないとはまるので注意

[client]
port		= 3306
socket		= /path/to/mysql/mysqld.sock
default-character-set = utf8

[mysqld_safe]
socket		= /path/to/mysql/mysqld.sock
nice		= 0

[mysqld]
#
# * Basic Settings
#
log-bin = mysql-bin
default-character-set = utf8

user		= mysql
pid-file	= /path/to/mysql/mysqld.pid
socket		= /path/to/mysql/mysqld.sock
port		= 3306
basedir		= /usr
datadir		= /path/to/mysql
tmpdir		= /tmp
language	= /usr/share/mysql/english
skip-external-locking
bind-address	= 127.0.0.1

#
# * Fine Tuning
#

# global
key_buffer              = 16M
max_allowed_packet      = 16M
query_cache_limit       = 1M
query_cache_size        = 16M

# innodb(global)
innodb_buffer_pool_size         = 512M
innodb_additional_mem_pool_size = 10M
innodb_log_buffer_size          = 8M

# innodb(file)
innodb_log_file_size            = 128M

# thread
thread_stack            = 128K
thread_cache_size       = 30
sort_buffer_size        = 2M
read_rnd_buffer_size    = 1M
join_buffer_size        = 256K

#max_connections        = 100
#table_cache            = 64
thread_concurrency      = 8

log_slow_queries   = /path/to/log/mysql-slow.log
long_query_time    = 2
# log-queries-not-using-indexes

#
# The following can be used as easy to replay backup logs or for replication.
# note: if you are setting up a replication slave, see README.Debian about
#       other settings you may need to change.
#server-id		= 1
#log_bin			= /var/log/mysql/mysql-bin.log
expire_logs_days	= 10
max_binlog_size         = 100M
#binlog_do_db		= include_database_name
#binlog_ignore_db	= include_database_name
#
# * BerkeleyDB
#
# Using BerkeleyDB is now discouraged as its support will cease in 5.1.12.
skip-bdb

[mysqldump]
quick
quote-names
max_allowed_packet	= 16M

[mysql]
#no-auto-rehash	# faster start of mysql but no tab completition
default-character-set = utf8

[isamchk]
key_buffer		= 16M

# 別ファイルに分けたい場合にコメントアウトする
# !includedir /path/to/mysql/conf.d/

